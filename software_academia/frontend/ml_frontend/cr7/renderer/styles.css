:root{
  --bg:#0B1220;
  --bg-soft:#111a2d;
  --panel:#0f172a;
  --muted:#6b7280;
  --text:#E5E7EB;
  --text-weak:#cbd5e1;
  --primary:#2E7CF6;
  --green:#22c55e;
  --red:#ef4444;
  --yellow:#f59e0b;
  --card:#0e1629;
  --border:rgba(255,255,255,0.06);
  --shadow:0 10px 30px rgba(0,0,0,.35);
  --radius:16px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial;
  color:var(--text);
  background:
    radial-gradient(1000px 600px at 80% -100%, rgba(46,124,246,.15), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.02), transparent),
    var(--bg);
}

.app{display:grid; grid-template-columns:260px 1fr; height:100vh; overflow:hidden}

/* Sidebar */
.sidebar{
  background:linear-gradient(180deg, #0b1220, #0b1220 60%, #0b1220);
  border-right:1px solid var(--border);
  padding:16px 14px;
}
.brand{display:flex; align-items:center; height:44px; margin-bottom:8px}
.brand-icon{
  width:32px; height:32px; border-radius:8px;
  display:grid; place-items:center; font-weight:800;
  background:linear-gradient(135deg,#2E7CF6, #8bb6ff);
  color:white;
}
.nav{margin-top:16px; display:flex; flex-direction:column; gap:6px}
.nav-item{
  padding:10px 12px; border-radius:10px; color:var(--text-weak);
  cursor:pointer; transition:all .2s;
}
.nav-item:hover{background-color:#0d162b; color:var(--text)}
.nav-item.active{background-color:#0d1b33; color:#fff; border:1px solid var(--border)}

/* Main */
.main{padding:18px 24px; overflow:auto; position:relative}
.header{
  display:flex; align-items:center; justify-content:space-between; margin-bottom:16px;
  background:rgba(255,255,255,.01); border:1px solid var(--border);
  padding:10px 12px; border-radius:12px; backdrop-filter: blur(4px);
}
.header h1{font-size:20px; margin:0}
.header-tools{display:flex; align-items:center; gap:10px}
.chip{
  border:1px solid var(--border); background:#0d162b; color:var(--text);
  padding:6px 10px; border-radius:999px; cursor:pointer; font-size:13px;
}
.chip.ghost{background:transparent}
.user .avatar{
  display:inline-grid; place-items:center;
  width:34px; height:34px; border-radius:50%;
  background:linear-gradient(135deg, #2E7CF6, #3dd9a3);
  color:white; font-weight:700;
}

/* Cards Grid */
.kpi-grid{
  display:grid; grid-template-columns: repeat(3, 1fr); gap:16px; margin-bottom:16px;
}
.card{
  background:var(--card); border:1px solid var(--border);
  border-radius:var(--radius); padding:14px; box-shadow:var(--shadow);
}
.kpi{display:flex; gap:12px; align-items:center}
.kpi-icon{
  width:52px; height:52px; border-radius:12px; display:grid; place-items:center; font-size:24px;
  background:#0d1b33; border:1px solid var(--border)
}
.kpi-green{color:var(--green)}
.kpi-red{color:var(--red)}
.kpi-label{font-size:13px; color:var(--text-weak)}
.kpi-value{font-size:28px; font-weight:800; margin-top:4px}
.kpi-tags{margin-top:6px}
.tag{
  display:inline-block; padding:4px 8px; border-radius:999px; font-size:12px;
  border:1px solid var(--border); background:#0e1a30;
}
.tag.green{color:#a7f3d0; background:rgba(34,197,94,.12); border-color:rgba(34,197,94,.25)}
.tag.red{color:#fecaca; background:rgba(239,68,68,.12); border-color:rgba(239,68,68,.25)}

/* Drivers */
.drivers h3{margin:0 0 10px 0; font-size:16px}
.drivers-list{display:grid; grid-template-columns:repeat(2,1fr); gap:10px}
.driver{
  padding:10px; border:1px solid var(--border); border-radius:12px;
  background:#0d162b;
}
.driver .title{font-size:13px; margin-bottom:8px; display:flex; align-items:center; gap:6px}
.bar{height:8px; background:#101a30; border-radius:999px; overflow:hidden; border:1px solid var(--border)}
.bar > i{display:block; height:100%; width:0%}
.bar.warn > i{background:linear-gradient(90deg,#f59e0b,#fbbf24)}
.bar.danger > i{background:linear-gradient(90deg,#ef4444,#f87171)}

/* Filtros */
.filters{display:flex; gap:8px; margin-bottom:16px}

/* Tabla */
.table-card{padding:0}
.table-head{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 16px; border-bottom:1px solid var(--border);
}
.legend{display:flex; align-items:center; gap:12px; color:var(--muted); font-size:12px}
.dot{display:inline-block; width:8px; height:8px; border-radius:50%}
.dot.red{background:var(--red)} .dot.yellow{background:var(--yellow)} .dot.green{background:var(--green)}

.progress-list{padding:12px 16px; border-bottom:1px solid var(--border); display:grid; gap:8px}
.progress{
  background:#0d162b; border:1px solid var(--border); border-radius:10px; padding:8px 10px;
}
.progress .label{font-size:12px; color:var(--muted); margin-bottom:6px}
.progress .scale{height:8px; background:#0f1a30; border-radius:8px; overflow:hidden; position:relative}
.progress .scale i{display:block; height:100%}
.progress .scale i.red{background:linear-gradient(90deg,#ef4444,#f87171)}
.progress .scale i.blue{background:linear-gradient(90deg,#2E7CF6,#8bb6ff)}

.table-wrap{max-height:420px; overflow:auto}
.table{width:100%; border-collapse:separate; border-spacing:0; font-size:14px}
.table thead th{
  position:sticky; top:0; background:#0c1427; z-index:1;
  text-align:left; padding:12px 14px; color:var(--muted); font-weight:600; border-bottom:1px solid var(--border)
}
.table tbody td{padding:12px 14px; border-bottom:1px solid var(--border)}
.row{
  transition:background .2s
}
.row:hover{background:#0e1a30}

.badge{
  padding:4px 8px; border-radius:999px; font-size:12px;
  border:1px solid var(--border); background:#0e1a30; color:var(--text-weak)
}
.badge.red{background:rgba(239,68,68,.1); color:#fecaca; border-color:rgba(239,68,68,.3)}
.badge.green{background:rgba(34,197,94,.12); color:#a7f3d0; border-color:rgba(34,197,94,.25)}
.badge.yellow{background:rgba(245,158,11,.12); color:#fde68a; border-color:rgba(245,158,11,.25)}

.btn, .btn-primary, .icon-btn{
  cursor:pointer; border:none; border-radius:10px; padding:8px 10px; font-weight:600
}
.btn{background:#0d162b; color:var(--text); border:1px solid var(--border)}
.btn:hover{filter:brightness(1.1)}
.btn-primary{background:linear-gradient(90deg,#2E7CF6,#3dd9a3); color:#0b1220}
.icon-btn{background:transparent; color:var(--text-weak)}

/* Drawer */
.drawer{
  position:fixed; right:-360px; top:0; width:340px; height:100vh; background:#0c1427;
  border-left:1px solid var(--border); box-shadow:var(--shadow); padding:16px;
  transition:right .28s ease; z-index:20;
}
.drawer.open{right:0}
.drawer-header{display:flex; align-items:center; justify-content:space-between; margin-bottom:10px}
.plan-list{padding-left:22px; display:grid; gap:8px; font-size:14px}

/* Responsivo */
@media (max-width:1100px){
  .kpi-grid{grid-template-columns:1fr}
  .app{grid-template-columns:80px 1fr}
  .nav-item{font-size:12px}
}
